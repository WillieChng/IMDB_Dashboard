{% extends "base.html" %} 
{% block title %} Intermediate {% endblock %} 

{% block extra_css %}
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/15.5.0/nouislider.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='intermediate.css') }}">
{% endblock %}

{% block content %} 
    <h1 class="page-title">Explore Intermediate Cinema Analytics</h1>

<!-- Year Range Slider -->
<div>
    <label for="year-range">Select Year Range:</label>
    <div id="year-range-slider"></div>
    <span id="year-range-display">2019 - 2024</span>
    <button id="update-year-chart">Update Chart by Year</button>
</div>

<!-- Genre Filter -->
<div>
    <label for="genre-filter">Filter by Genre:</label>
    <select id="genre-filter" multiple>
        <!-- Options will be populated by JavaScript -->
    </select>
    <button id="update-genre-chart">Update Chart by Genre</button>
</div>

<!-- Director Filter -->
<div>
    <label for="director-filter">Filter by Director:</label>
    <select id="director-filter" multiple>
        <!-- Options will be populated by JavaScript -->
    </select>
    <button id="update-director-chart">Update Chart by Director</button>
</div>

    <div class="chart-grid">
        <div class="chart1">
            <div class="chart-container">
                <h2>Number of Movie Releases by Genre Over Time</h2>
                <div id="chart1">{{ chart1|safe }}</div>
            </div>
        </div>
        <div class="chart1-description chart-description">
            <p>Description for Chart 1: Number of Movie Releases by Genre Over Time.</p>
        </div>

        <div class="chart2">
            <div class="chart-container">
                <h2>Movie Runtime by Decade (Measure of Central Tendency)</h2>
                <div id="chart2">{{ chart2|safe }}</div>
            </div>
        </div>
        <div class="chart2-description chart-description">
            <p>Description for Chart 2: Average Movie Runtime by Decade.</p>
        </div>

        <div class="chart3">
            <div class="chart3-container">
                <h2>Top 10 Starred Actors/Actresses Across Genres</h2>
                <div id="chart3">{{ chart3|safe }}</div>
            </div>
        </div>
        <div class="chart3-description chart-description">
            <p>Description for Chart 3: Top 10 Starred Actors/Actresses Across Genres.</p>
        </div>

        <div class="chart4">
            <div class="chart-container">
                <h2>Popularity Success of Genres by Director</h2>
                <div id="chart4">{{ chart4|safe }}</div>
            </div>
        </div>
        <div class="chart4-description chart-description">
            <p>Description for Chart 4: Average Popularity and Sentiment of Movies by Genre.</p>
        </div>

        <div class="chart5">
            <div class="chart-container">
                <h2>Average Popularity and Sentiment of Movies by Genre</h2>
                <div id="chart5">{{ chart5|safe }}</div>
            </div>
        </div>
        <div class="chart5-description chart-description">
            <p>Description for Chart 5: Average Popularity and Sentiment of Movies by Genre.</p>
        </div>
    </div>
{% endblock %}

{% block extra_js %}
    <script src="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/15.5.0/nouislider.min.js"></script>
    <script src="{{ url_for('static', filename='script.js') }}"></script>
{% endblock %}